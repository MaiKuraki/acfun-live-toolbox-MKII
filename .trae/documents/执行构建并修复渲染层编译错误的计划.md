**目标**

* 成功执行工作区构建（主进程与渲染层），并修复当前渲染层编译报错，确保窗口布局与全局弹窗交互按预期工作。

**构建与依赖**

* 安装渲染依赖并注册图标组件：

  * 安装 `tdesign-icons-vue-next` 到渲染工作区

  * 确认入口注册图标：`packages/renderer/src/main.ts`（已添加）

* 逐步构建：

  * 先构建主进程：`@app/main`（参考 `packages/main/package.json`）

  * 再构建渲染层：`@app/renderer`

**修复编译错误（最低改动原则）**

* Sidebar 未使用函数（TS6133）：移除未使用的 `getPluginStatusColor/getPluginStatusText` 定义或改为实际使用

  * 参考：`packages/renderer/src/components/Sidebar.vue:254,269`

* Topbar 未使用函数（TS6133）：移除未使用的 `toggleAccountCard`

  * 参考：`packages/renderer/src/components/Topbar.vue:213`

* HomePage 未定义属性（TS2339）：补充必要的 store 引用与方法占位，避免模板引用不存在变量

  * 引入 `useAccountStore/useRoomStore`，定义 `showQrLogin/switchAccount/logout`，初始化 `kpiData/kpiLoading`

  * 参考：`packages/renderer/src/pages/HomePage.vue:72,87,101,102,108,111,117,120,128,135,154,156,162,163,169,170,176,177,184`

* Stats 页数据结构（TS7053）：将 `option.dataZoom` 初始化为数组，避免对 `{}` 下标访问

  * 参考：`packages/renderer/src/pages/Stats.vue:117-118`

* PluginFramePage 类型（TS2339）：对 `plugin?.manifest` 访问添加类型保护或统一为 `any`，确保属性存在于类型

  * 参考：`packages/renderer/src/pages/PluginFramePage.vue:215`

* 插件 store 返回值联合类型（TS2339）：对 `result.data` 使用类型守卫或 `as any` 断言，保障 `vue-tsc` 通过

  * 参考：`packages/renderer/src/stores/plugin.ts:204,220,221,299,315,316,706,713-714,905,911-912`

* 导入配置函数不可见（TS2552/TS6133）：将 `importPluginConfig` 提前定义，确保在 `getPluginMenuOptions` 可见，且实际被调用

  * 参考：`packages/renderer/src/pages/PluginManagementPage.vue:598,677`

**窗口布局与弹窗交互（已改动验证）**

* 窗口路由隐藏应用布局：`packages/renderer/src/router.ts:76-79` 增加 `meta.layout='window'`

* `LayoutShell` 条件渲染：`packages/renderer/src/layouts/LayoutShell.vue` 根据路由隐藏 Topbar/Sidebar，仅显示窗口页简版 Topbar

* 全局弹窗 API 修正：`packages/renderer/src/services/globalPopup.ts` 使用 `MessagePlugin.info({content,duration})` 与 `DialogPlugin.alert/confirm` 的实例方法 `.hide()`

**执行步骤**

1. 安装渲染依赖（icons）并构建主进程
2. 逐一提交上述代码修复（按文件分组）
3. 构建渲染层并查看剩余报错，进行小幅补丁直到通过
4. 运行开发模式，验证窗口页面仅简版 Topbar，无侧边栏；点击按钮在主窗口弹出 Toast/Alert/Confirm；插件管理页“复制链接”按钮仅在声明 overlay 时显示；详情页仅“返回”；导入配置与导出一致

**交付**

* 所有构建通过，窗口与弹窗交互符合需求；渲染层 TypeScript 编译无错误。

