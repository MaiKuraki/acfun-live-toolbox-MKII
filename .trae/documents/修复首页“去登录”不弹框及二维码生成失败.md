## 问题复盘
- 点击“去登录”不弹框：当当前路由已在 `/home` 时，`router.push({ path: '/home', query: { qrLogin: '1' } })` 不产生有效变化，`HomeCardAccount` 对 `qrLogin` 的监听不会触发。
- 弹框报“二维码生成失败，请重试”：`login.qrStart` 可能返回错误（网络/服务异常或会话残留），渲染层直接进入错误态但未自动重试。

## 解决方案
1. 强制路由变化触发弹框：
   - 在 `Sidebar.vue` 的“去登录”分支，改为 `router.push({ path: '/home', query: { qrLogin: '1', t: Date.now() } })`，通过携带时间戳参数确保路由变化，触发首页监听。
2. 渲染层稳健化生成流程：
   - 在 `HomeCardAccount.vue` 的 `generateQrCode()` 中加入一次轻量重试：首次失败后延迟 1 秒自动再试一次，并在两次失败后保持错误提示。
   - 失败时使用 `window.electronApi.popup.toast` 提示具体错误信息，便于定位。
3. 会话清理与一致性：
   - 在生成前尝试取消旧会话：调用 `window.electronApi.login.qrCancel()`（忽略错误），避免残留状态影响新二维码生成。

## 验证
- 未登录点击“创建直播”→对话框出现，点“去登录”→ 地址变为 `#/home?qrLogin=1&t=...`，首页弹出二维码登录框。
- 首页“登录”按钮点击直接弹框。
- 接口临时异常时，弹框显示加载→失败提示→自动重试一次；仍失败则保留“二维码生成失败，请重试”，并有 toast 说明原因。

## 影响范围
- 仅修改 `packages/renderer/src/components/Sidebar.vue` 与 `packages/renderer/src/components/home/HomeCardAccount.vue` 的路由与生成逻辑；不改动主进程 TokenManager 或 IPC 结构。