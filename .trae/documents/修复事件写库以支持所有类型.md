## 问题
- 数据库空的主要原因是表结构 `payload TEXT NOT NULL`，而部分事件（like/enter/follow/gift 等）没有文本 `content`，导致批量插入事务失败并整批回滚。写入失败会被重新入队，形成无限失败。

## 方案
- 在主进程写库层规范 `payload`：当事件 `content` 为空时，入库使用空字符串 `''`（或最小文本），保证满足 `NOT NULL` 约束。
- 保留现有字段映射，确保所有类型事件都能成功提交。
- 增加提交成功的日志输出（不依赖调试环境变量）。

## 变更点
- 修改 `packages/main/src/persistence/EventWriter.ts` 的 `writeBatch(...)`：对每条事件计算 `payloadNormalized`，为空则写入 `''`，并在 `COMMIT` 成功后 `console.info` 输出记录数。

## 验证
- 在房间发送弹幕与其他类型事件，观察入库成功；`/api/events` 返回包含多类型事件；主进程控制台出现提交成功日志。