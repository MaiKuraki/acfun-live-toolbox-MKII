## é—®é¢˜å®šä½
- æŒ‰é’®ç‚¹å‡»æµï¼š`LiveRoomPage.vue` çš„ `toggleConnection(room)` è°ƒç”¨ `window.electronApi.room.disconnect(room.liveId)` â†’ é¢„åŠ è½½å±‚æ˜ å°„åˆ° `ipcRenderer.invoke('room.disconnect', roomId)`ï¼ˆpackages/preload/src/index.ts:153â€“159ï¼‰â†’ ä¸»è¿›ç¨‹å¤„ç† `ipcMain.handle('room.disconnect', ...)`ï¼ˆpackages/main/src/ipc/ipcHandlers.ts:291â€“307ï¼‰ã€‚
- ä¸»è¿›ç¨‹ä¸­æ–­å¼€é€»è¾‘æœ€ç»ˆè°ƒç”¨ `RoomManager.removeRoom(roomId)`ï¼ˆpackages/main/src/rooms/RoomManager.ts:81â€“122ï¼‰ï¼ŒæŒ‰ç†åº”æ‰“å°æ—¥å¿—ã€‚
- ç°è±¡â€œä¸»è¿›ç¨‹å’Œæ§åˆ¶å°éƒ½æ²¡ååº”â€ï¼Œç»“åˆä»£ç æ¨æ–­ï¼šä¼ å…¥çš„ `room.liveId` ä¸ `RoomManager` ç®¡ç†çš„é”®ä¸ä¸€è‡´ï¼ˆç›´æ’­è¿‡ç¨‹ä¸­ `liveId` å¯èƒ½å˜åŒ–ï¼‰ï¼Œå¯¼è‡´ `getRoomInfo(roomId)` è¿”å›ç©ºå¹¶èµ° `not_found` åˆ†æ”¯ï¼Œæ— æ˜¾è‘— UI æç¤ºï¼›æŒ‰é’®çœ‹èµ·æ¥â€œæ²¡ååº”â€ã€‚

## ä¿®å¤æ€è·¯
- å°† `toggleConnection(room)` ä¸­ IPC è°ƒç”¨çš„å‚æ•°ä» `room.liveId` æ”¹ä¸ºç¨³å®šçš„æˆ¿é—´æ ‡è¯† `room.id`ï¼ˆå³ç®¡ç†å™¨ä½¿ç”¨çš„é”®ï¼‰ã€‚
  - ä¿®æ”¹ä½ç½®ï¼š`packages/renderer/src/pages/LiveRoomPage.vue:496â€“504`ã€‚
  - æ›´æ”¹ä¸ºï¼š`window.electronApi.room.disconnect(room.id)` / `window.electronApi.room.connect(room.id)`ã€‚
- ä½¿æ¸²æŸ“ç«¯çŠ¶æ€æ›´æ–°æ›´ä¸€è‡´ï¼š`room.ts` çš„ `updateRoomStatus(roomId, status)` å½“å‰ä»¥ `liveId` æŸ¥æ‰¾ï¼ˆpackages/renderer/src/stores/room.ts:496â€“503ï¼‰ï¼Œå»ºè®®æ”¹ä¸ºä»¥ `id` ä¼˜å…ˆåŒ¹é…ï¼Œé¿å…åç»­çŠ¶æ€åæŸ¥å‡ºç°ä¸ä¸€è‡´ã€‚
- ä¿æŒä¸»è¿›ç¨‹é€»è¾‘ä¸å˜ï¼›ä¸»è¿›ç¨‹çš„ `room.disconnect` å·²æ­£ç¡®æ³¨å†Œï¼ˆpackages/main/src/ipc/ipcHandlers.ts:291ï¼‰ã€‚

## éªŒè¯æ­¥éª¤
- æ‰‹åŠ¨æµ‹è¯•ï¼š
  - æ–°å¢æˆ¿é—´å¹¶ç‚¹å‡»â€œè¿æ¥é‡‡é›†â€ï¼Œè§‚å¯Ÿä¸»è¿›ç¨‹æ—¥å¿—ï¼š`[RoomManager] Successfully added room ...`ï¼ˆpackages/main/src/rooms/RoomManager.ts:70â€“75ï¼‰ã€‚
  - ç‚¹å‡»â€œæ–­å¼€é‡‡é›†â€ï¼ŒæœŸæœ›æ—¥å¿—ï¼š`[RoomManager] Successfully removed room ...`ï¼ˆpackages/main/src/rooms/RoomManager.ts:111â€“116ï¼‰ã€‚
  - é¡µé¢è°ƒç”¨ `refreshRooms()` åçŠ¶æ€ç”±â€œğŸ˜Š å¼¹å¹•è·å–ä¸­â€åˆ‡æ¢åˆ°â€œæœªè¿æ¥é‡‡é›†â€ï¼ˆpackages/renderer/src/pages/LiveRoomPage.vue:403â€“410ï¼‰ã€‚
- é™æ€æ£€æŸ¥ï¼šè¿è¡Œç±»å‹æ£€æŸ¥ç¡®ä¿æ”¹åŠ¨ä¸å¼•å…¥ç±»å‹é”™è¯¯ï¼›æ ¸å¯¹é¢„åŠ è½½ API æ˜ å°„ä¿æŒä¸å˜ï¼ˆpackages/preload/src/index.ts:151â€“160ï¼‰ã€‚

## å½±å“ä¸å…¼å®¹
- æ”¹åŠ¨é™å®šæ¸²æŸ“å±‚è°ƒç”¨å‚æ•°ï¼Œä¸æ¶‰åŠä¸»è¿›ç¨‹é€»è¾‘ï¼›å¯¹æ—§ç‰ˆæœ¬ä¸ä¿ç•™å›é€€ä»£ç ã€‚
- ä¸ç”¨æˆ· UID / liveId çš„è¯­ä¹‰åŒºåˆ†ä¿æŒï¼šé¡µé¢å±•ç¤ºå’Œå¤–é“¾ç»§ç»­ä½¿ç”¨ `liveId`ï¼ŒIPC ç®¡ç†æ“ä½œç»Ÿä¸€ç”¨ `id`ã€‚

## åç»­æ¸…ç†
- åŒæ­¥è°ƒæ•´ `updateRoomStatus` ä½¿ç”¨ `id` ä¼˜å…ˆåŒ¹é…å¹¶åˆ é™¤æ— ç”¨æ³¨é‡Šï¼›æäº¤å‰è¿›è¡Œä¸€æ¬¡ä»£ç èµ°æŸ¥ä»¥æ¸…ç†å†—ä½™ã€‚