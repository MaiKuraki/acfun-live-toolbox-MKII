## 布局与样式
- 将“直播日期”调整为第一行第一个控件；“关键词1”调整为第二行第一个控件。
- 统一所有输入控件宽度（如 240px）：`t-select、t-input、t-select-input、t-date-picker` 使用一致的 `style="width: 240px;"`。
- 保持内联表单，两行布局；小屏自动换行不改变相对顺序。

## 筛选逻辑修复
- 类型筛选（后端生效）：
  - 在 `loadHistoricalDanmu` 中确保传参 `type` 为逗号分隔（与 `ApiServer.ts:286-334` 解析兼容）。
  - 校验当前传参是否正确带出选中类型；必要时在触发查询前打印请求参数到 DevTools 便于验证。
- 关键词筛选：
  - 将 `t-tagInput` 改为单字段 `t-input`（label：关键词1），表单模型改为 `formData.keyword1: string`。
  - 传参 `q = formData.keyword1.trim()`；与 `QueryService.ts:55-57` 的 LIKE 过滤匹配。
- 用户筛选：
  - 保持单选（与后端 `user_id` 能力一致）；`t-select-input` 选项来自 `/api/users` 与 `/api/users/search`。
  - 远程搜索与列表均传 `room_id`（限定当前房间）：更新 `onUserSearch` 与弹出时预加载（`onUserPopupVisible`）。
  - 查询参数传 `user_id = formData.user`。
- 查询触发：
  - 点击“查询”按钮时提交所有筛选条件；房间切换后自动查询；可选：表单字段变更时自动重置到第一页但不立即请求，仅在点击查询时请求（避免频繁请求）。

## 表格与分页
- 设置固定内容高度：将表格容器高度固定为 `400px`，`overflow: auto`；分页区位于容器下方（保持可见）。
- 内容列超长处理：
  - 使用 `ellipsis` 样式（`text-overflow: ellipsis; white-space: nowrap; overflow: hidden;`）。
  - 在单元格尾部显示“查看详情”，点击打开现有详情对话框。
- 保持列头为：时间、类型、用户、内容；总数与分页信息从后端返回 `total/page/pageSize` 同步。

## 具体改动文件
- `packages/renderer/src/pages/LiveDanmuPage.vue`
  - 调整 `<t-form>` 字段顺序与控件宽度（约行 42-97）。
  - 将关键词字段改为 `t-input`（关键词1），更新 `formData` 模型及传参（约行 285-329）。
  - 用户远程搜索与列表传 `room_id`，并在弹出时预加载（约行 422-439）。
  - 固定表格容器高度与内容列省略及“查看详情”交互（约行 142-150、498-503 与样式段 661-686）。
- 后端无需改动（`ApiServer.ts` 与 `QueryService.ts` 已满足当前筛选接口）。

## 验证
- 在切换类型、关键词、用户后，点击“查询”应返回正确过滤结果；房间切换自动查询。
- 内容列超长时显示省略并可“查看详情”。
- 表格区域高度固定为 400px，分页区紧随其后。
- 运行类型检查与构建，确保无错误。

## 备注
- 保留“查询”作为显式触发；避免每次输入即时请求导致性能问题。
- 若后续需要“多用户筛选”，再扩展后端支持多 ID（逗号分隔），并同步前端 UI。