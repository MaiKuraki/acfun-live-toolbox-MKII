# 弹幕管理页面测试清单

## 🎯 功能测试

### 1. 房间选择功能
- [ ] 页面加载时自动获取历史房间列表
- [ ] 房间下拉框显示主播用户名和房间ID
- [ ] 支持搜索过滤房间功能
- [ ] 切换房间时自动加载对应弹幕数据
- [ ] 默认选择第一个历史房间

### 2. 弹幕加载功能
- [ ] 进入页面自动查询第一个房间的前20条弹幕
- [ ] 显示加载状态指示器
- [ ] 正确显示弹幕时间、用户、内容等信息
- [ ] 支持点击查看弹幕详情

### 3. 事件类型过滤
- [ ] 多选下拉框包含所有事件类型（弹幕、礼物、点赞、进入、关注、系统）
- [ ] 选择/取消事件类型时实时过滤弹幕
- [ ] 支持同时选择多个事件类型
- [ ] 默认选中所有事件类型

### 4. 关键词过滤功能
- [ ] 支持添加多个关键词
- [ ] 关键词标签正确显示并可删除
- [ ] 支持在输入框中直接输入新关键词
- [ ] 多关键词过滤采用"或"逻辑（满足任一关键词即可）
- [ ] 关键词过滤同时搜索弹幕内容和用户名

### 5. 用户过滤功能
- [ ] 支持按用户名过滤
- [ ] 支持按用户UID过滤
- [ ] 输入过滤条件时实时过滤
- [ ] 清空过滤条件时恢复显示

### 6. 自动刷新功能
- [ ] 自动刷新开关正常工作
- [ ] 开启后每10秒重新查询弹幕数据
- [ ] 关闭后停止自动刷新
- [ ] 切换房间时保持自动刷新状态

### 7. 删除清空功能
- [ ] 清空弹幕按钮正常工作
- [ ] 清空操作显示确认提示（如需要）
- [ ] 清空成功后显示成功消息
- [ ] 清空失败时显示错误消息
- [ ] 清空操作只影响当前选中房间

### 8. 导出功能
- [ ] 导出按钮正常工作
- [ ] 支持导出为CSV格式
- [ ] 导出文件包含当前过滤条件的数据
- [ ] 导出文件名包含房间ID和日期
- [ ] 导出失败时回退到JSON格式

### 9. 弹幕列表交互
- [ ] 鼠标悬停时显示操作按钮
- [ ] 点击复制按钮可复制弹幕内容
- [ ] 点击删除按钮可删除单条弹幕
- [ ] 点击弹幕项可查看详细信息
- [ ] 弹幕类型边框颜色正确显示

## 📱 界面测试

### 1. 布局响应式
- [ ] 桌面端显示正常（>1024px）
- [ ] 平板端显示正常（768px-1024px）
- [ ] 手机端显示正常（<768px）
- [ ] 过滤器在小屏幕上自动调整布局

### 2. 视觉一致性
- [ ] 颜色主题与整体应用一致
- [ ] 字体大小和间距合适
- [ ] 按钮和输入框样式统一
- [ ] 加载和空状态显示美观

### 3. 交互体验
- [ ] 所有按钮有可点击反馈
- [ ] 输入框有焦点状态
- [ ] 操作有适当的加载状态
- [ ] 错误提示清晰明确

## 🔧 技术测试

### 1. API接口测试
- [ ] `/api/events` 接口正常返回数据
- [ ] `/api/events/rooms` 接口返回历史房间列表
- [ ] `/api/events/clear` 删除接口正常工作
- [ ] `/api/export` 导出接口正常工作
- [ ] WebSocket连接正常接收实时弹幕

### 2. 数据格式验证
- [ ] 弹幕数据格式正确
- [ ] 时间戳显示正确
- [ ] 用户信息显示完整
- [ ] 事件类型映射正确

### 3. 性能测试
- [ ] 大量弹幕数据加载不卡顿
- [ ] 过滤器响应及时
- [ ] 自动刷新不影响页面性能
- [ ] 内存使用合理，无内存泄漏

## 🚨 边界条件测试

### 1. 异常情况处理
- [ ] 网络断开时的错误处理
- [ ] API返回错误时的处理
- [ ] 空数据情况下的显示
- [ ] 无效房间ID的处理

### 2. 数据边界
- [ ] 超长弹幕内容的显示
- [ ] 特殊字符的处理
- [ ] 大量关键词过滤的性能
- [ ] 同时多过滤器组合使用

### 3. 用户操作边界
- [ ] 快速切换房间的稳定性
- [ ] 频繁开启/关闭自动刷新
- [ ] 连续添加/删除关键词
- [ ] 同时操作多个功能

## 📋 测试环境准备

### 1. 测试数据
- [ ] 准备包含不同类型事件的测试数据
- [ ] 准备多个历史房间数据
- [ ] 准备包含关键词的弹幕内容
- [ ] 准备不同用户的数据

### 2. 测试工具
- [ ] 浏览器开发者工具
- [ ] 网络请求监控
- [ ] 性能分析工具
- [ ] 移动端模拟器

### 3. 测试流程
1. 按照功能模块逐一测试
2. 记录所有发现的问题
3. 验证修复后的功能
4. 进行回归测试
5. 性能和安全测试

## ✅ 验收标准

- 所有核心功能正常工作
- 界面响应式设计适配各种设备
- 用户体验流畅，无明显卡顿
- 错误处理完善，提示信息清晰
- 代码通过TypeScript类型检查
- 无严重内存泄漏问题